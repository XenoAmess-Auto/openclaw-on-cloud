spring:
  application:
    name: ooc-backend

  data:
    mongodb:
      uri: mongodb://root:judsrkcnvyaj7rq5jdjempciyqur9hp5@23.94.174.102:30017/ooc?authSource=admin
      database: ooc
      auto-index-creation: true

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB

server:
  port: 8081

jwt:
  secret: ${JWT_SECRET:b3BlbmNsYXctb24tY2xvdWQtc2VjcmV0LWtleS1jaGFuZ2UtaW4tcHJvZHVjdGlvbg==}
  expiration: 86400000

openclaw:
  gateway-url: ${OPENCLAW_URL:http://localhost:18789}
  api-key: ${OPENCLAW_API_KEY:cd892529a92f5a1df4c841641d44705b614ad878f465d110}
  session-timeout-ms: 1800000
  max-session-messages: 50
  auto-summarize: true
  summarize-threshold: 30

# 文件存储配置
# 支持两种存储类型: local (本地文件系统) 或 s3 (S3 兼容存储)
file:
  # 存储类型: local | s3
  storage-type: ${FILE_STORAGE_TYPE:s3}

  # ===== 本地存储配置 (storage-type = local) =====
  upload-dir: ${FILE_UPLOAD_DIR:/home/xenoamess/.openclaw/workspace/openclaw-on-cloud/uploads}
  allowed-types: image/jpeg,image/png,image/gif,image/webp,application/pdf,text/plain
  max-size: 10
  url-prefix: /uploads

  # ===== S3 存储配置 (storage-type = s3) =====
  s3:
    # S3 端点
    # AWS S3: https://s3.amazonaws.com 或 https://s3.{region}.amazonaws.com
    # MinIO: http://localhost:9000
    # Cloudflare R2: https://{account-id}.r2.cloudflarestorage.com
    endpoint: ${S3_ENDPOINT:http://23.94.174.102:32000}

    # 区域 (AWS S3 需要正确设置，MinIO 可使用默认值)
    region: ${S3_REGION:us-east-1}

    # 存储桶名称
    bucket: ${S3_BUCKET:ooc-uploads}

    # 访问密钥
    access-key: ${S3_ACCESS_KEY:xenoamess}

    # 秘密密钥
    secret-key: ${S3_SECRET_KEY:5ehxd2ubsiudq7qitg2r4ggzqraietn0}

    # 是否使用路径样式访问 (MinIO 需要 true，AWS S3 需要 false)
    path-style-access: ${S3_PATH_STYLE:true}

    # 自定义 CDN URL (可选，用于返回自定义域名访问地址)
    # 例如: https://cdn.example.com 或 https://your-bucket.r2.dev
    cdn-url: ${S3_CDN_URL:http://localhost:32000}

logging:
  level:
    com.ooc: DEBUG
  file:
    name: /tmp/ooc-backend-latest.log
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
